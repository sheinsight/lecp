# LEGO-CP

##
- rust-first
    - rspack
    - swc
    	- [x] babel æ’ä»¶è¿ç§»
    - LightningCSS
        - èƒ½å¦æ— ç¼è¿ç§» postcss??
		    - postcss-preset-env
		    - postcss-modules
			- [CSS Modules â€“ Lightning CSS](https://lightningcss.dev/css-modules.html#custom-naming-patterns)
				- > åªæ”¯æŒ rust é»˜è®¤çš„ hash, è‹¥ä¸ä½¿ç”¨ hash å¯è¡¨ç°ä¸€è‡´
    - æ”¯æŒ webpack, babel, postcss é™çº§??
        > æš‚ä¸æ”¯æŒ
- esm-first
    - package.json `type: module`
    - node `--experimental-require-module` ğŸ“¡
- bundle/bundless
- js/css/dts

## TODO
- [ ] extends
    - web/web-legacy/node/node-legacy/...
    - workspace
- [ ] format æ ¼å¼ (esm/cjs/umd)æ•°ç»„
    - åœºæ™¯1: å¤šä¸ª umd
    - åœºæ™¯2: å¤šä¸ª target
- [ ] css
    - css-modules æ”¯æŒ
        - swc æ’ä»¶ ğŸ‘Œ
        - LightningCSS æ”¯æŒ ğŸ‘Œ
    - less æ”¯æŒ ?
        - æ”¯æŒ, å¤šçº¿ç¨‹å¹¶è¡Œç¼–è¯‘
        - ä¸æ”¯æŒ, ä½†æä¾› less è¯­æ³•æ£€æŸ¥æ— ç—›è½¬ css
- [ ] dts
    - bundle: `@microsoft/api-extractor` ğŸ“¡
    - bundless:
        - fast: `isolated declarations` ğŸ“¡
            - ts, oxc, swc éƒ½æ”¯æŒ
        - default: rollup-plugin-dts(5.3~6.1 å·®å¼‚è·Ÿè¸ª)
- [ ] shim
	 - cjs æ”¯æŒ `import.meta.url`
	 - esm æ”¯æŒ `__filename`, `__dirname`,
- [ ] polyfill
	 - core-js
	 - node-polyfill
- [ ] externalHelpers
	 - @swc/helpers
	 - @babel/runtime
- [ ] targets
    - browserlist
    - rspack.target è€ƒè™‘ node, web
- [ ] define
	 - `process.env.NODE_ENV`
	 - `__DEV__`
- [ ] alias
	 - `@` -> `src`
- [ ] å†…ç½® banner
    - å¾®å‰ç«¯ umd sourcemap æ”¯æŒ
- [ ] check/doctor
    - package.json å¯¼å‡ºæ£€æŸ¥
